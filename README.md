# STM32F10x工程：使用SPI方式读写TF卡/SD卡

## 项目描述

本项目提供了一个基于STM32F103C8T6微控制器的工程模板，使用SPI通信方式实现对TF卡或SD卡的读写操作。该工程的主要功能是在TF卡或SD卡的根目录下创建一个名为`MEng.txt`的文件，并将预定义的数组`bmpheader`写入该文件中。

## 主要特性

1. **硬件平台**：STM32F103C8T6微控制器
2. **编译环境**：Keil5.14
3. **库函数版本**：3.5
4. **功能实现**：
   - 在TF卡或SD卡的根目录下创建文件`MEng.txt`。
      - 将数组`bmpheader`写入`MEng.txt`文件中。

      ## 硬件连接说明

      本工程使用SPI2接口与TF卡/SD卡进行通信，具体的硬件连接如下：

      | STM32F10x引脚 | 功能描述       | TF卡/SD卡引脚 |
      |---------------|----------------|---------------|
      | PB.12         | ChipSelect (CS) | 1             |
      | PB.15 / MOSI  | DataIn (DI)    | 2             |
      |               | GND            | 3 (0 V)       |
      |               | VDD            | 4 (3.3 V)     |
      | PB.13 / SCLK  | Clock (CLK)    | 5             |
      |               | GND            | 6 (0 V)       |
      | PB.14 / MISO  | DataOut (DO)   | 7             |

      ## 使用说明

      1. **硬件准备**：
         - 确保STM32F103C8T6开发板与TF卡/SD卡模块正确连接，参考上述硬件连接说明。
            - 确保TF卡/SD卡已正确插入模块。

            2. **软件配置**：
               - 使用Keil5.14打开工程文件。
                  - 配置工程选项，确保编译器和库函数版本正确。

                  3. **编译与下载**：
                     - 编译工程并下载到STM32F103C8T6开发板。
                        - 复位开发板，程序将自动运行。

                        4. **验证结果**：
                           - 程序运行后，检查TF卡/SD卡的根目录下是否生成了`MEng.txt`文件。
                              - 打开`MEng.txt`文件，确认数组`bmpheader`的内容已正确写入。

                              ## 注意事项

                              - 确保TF卡/SD卡的供电电压为3.3V，避免因电压不匹配导致通信失败。
                              - 在调试过程中，注意检查SPI通信的时钟频率和数据传输的稳定性。

                              ## 联系信息

                              如有任何问题或建议，请联系项目维护者。

                              ## 下载链接
                              [STM32F10x工程使用SPI方式读写TF卡SD卡](https://pan.quark.cn/s/f8fcdf2ef250) 

                              (备用: [备用下载](https://pan.baidu.com/s/1-gdflK2_VdUHsukf1Cjexg?pwd=1234))

                              ## 说明

                              该仓库仅用于学习交流，请勿用于商业用途。
